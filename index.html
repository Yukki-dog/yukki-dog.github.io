<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Yukki ‚Äî —Å–∞–º–∞—è –º–∏–ª–∞—è —á–∏—Ö—É–∞—Ö—É–∞</title>
<style>
  body {
    margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #ffe4e1;
    color: #333;
    transition: background 0.3s, color 0.3s;
  }
  #container {
    max-width: 700px;
    margin: 2rem auto;
    padding: 0 1rem;
    text-align: center;
  }
  #title {
    font-size: 2.5rem;
    margin-bottom: 0.5em;
    user-select: none;
  }
  #greeting {
    font-size: 1.2rem;
    margin-bottom: 1rem;
  }
  #yukkiAvatar {
    width: 180px;
    border-radius: 50%;
    cursor: pointer;
    border: 4px solid #fff;
    box-shadow: 0 0 12px rgba(255, 105, 180, 0.7);
    transition: transform 0.3s ease;
    margin-bottom: 1rem;
  }
  #yukkiAvatar:hover {
    transform: scale(1.05) rotate(4deg);
  }
  .photos {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    margin-bottom: 2rem;
  }
  .photo-item {
    flex: 1 1 140px;
    max-width: 160px;
    cursor: pointer;
  }
  .photo-item img {
    width: 100%;
    border-radius: 12px;
    transition: transform 0.4s ease;
  }
  .photo-item img:hover {
    transform: scale(1.1) rotate(5deg);
  }
  .caption {
    font-size: 0.85rem;
    margin-top: 0.25em;
    color: #555;
  }
  #factsBox {
    position: fixed;
    bottom: 12px;
    left: 12px;
    max-width: 280px;
    padding: 10px 15px;
    background: rgba(255 255 255 / 0.85);
    border-radius: 12px;
    font-size: 1rem;
    font-style: italic;
    color: #555;
    box-shadow: 0 0 10px rgba(255, 192, 203, 0.7);
    transition: opacity 0.5s ease;
  }
  #controls {
    display: flex;
    justify-content: center;
    gap: 10px;
    flex-wrap: wrap;
    margin-bottom: 1rem;
    user-select: none;
  }
  button {
    background: #ff69b4;
    border: none;
    border-radius: 22px;
    padding: 8px 16px;
    color: white;
    font-weight: 600;
    font-size: 1rem;
    cursor: pointer;
    box-shadow: 0 3px 8px rgba(255, 105, 180, 0.5);
    transition: background 0.3s ease;
  }
  button:hover:not(:disabled) {
    background: #ff1493;
  }
  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  select {
    font-size: 1rem;
    padding: 6px 10px;
    border-radius: 10px;
    border: 1px solid #ccc;
    cursor: pointer;
  }
  #toTopBtn {
    position: fixed;
    right: 20px;
    bottom: 80px;
    background: #ff69b4;
    border: none;
    border-radius: 50%;
    padding: 12px 16px;
    font-size: 1.6rem;
    color: white;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(255, 105, 180, 0.7);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.4s ease;
    user-select: none;
    line-height: 1;
  }
  #toTopBtn.show {
    opacity: 1;
    pointer-events: auto;
  }

  /* –†–∏—Å–æ–≤–∞–ª–∫–∞ */
  #drawingContainer {
    margin-top: 2rem;
    border: 3px solid #ff69b4;
    background: #fff0f6;
    border-radius: 12px;
    padding: 12px;
    user-select: none;
  }
  #drawingTitle {
    font-weight: 700;
    margin-bottom: 8px;
    font-size: 1.3rem;
  }
  #poseHint {
    font-style: italic;
    margin-bottom: 12px;
    font-size: 1rem;
  }
  #canvas {
    border: 2px solid #ff69b4;
    border-radius: 8px;
    touch-action: none; /* –ß—Ç–æ–±—ã –Ω–µ —Å–∫—Ä–æ–ª–ª–∏—Ç—å –ø—Ä–∏ —Ä–∏—Å–æ–≤–∞–Ω–∏–∏ –Ω–∞ —Ç–∞—á */
    background: #fff0f6;
    display: block;
    margin: 0 auto 1rem;
  }
  #drawControls {
    display: flex;
    justify-content: center;
    gap: 12px;
    flex-wrap: wrap;
    margin-bottom: 1rem;
  }
  #colorPicker {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid #ff69b4;
    cursor: pointer;
  }
  #brushSizeInput {
    width: 80px;
  }
</style>
</head>
<body>

<div id="container">
  <h1 id="title">Yukki</h1>
  <div id="greeting">–ü—Ä–∏–≤–µ—Ç! –Ø –Æ–∫–∫–∏ ‚Äî —Å–∞–º–∞—è –º–∏–ª–∞—è —á–∏—Ö—É–∞—Ö—É–∞! üíñ</div>
  <img id="yukkiAvatar" src="cute.jfif" alt="–§–æ—Ç–æ –Æ–∫–∫–∏" title="–ö–ª–∏–∫–Ω–∏ –¥–ª—è '–≥–∞–≤-–≥–∞–≤!'" />

  <div class="photos">
    <div class="photo-item">
      <img src="New_year.jfif" alt="–Æ–∫–∫–∏ —É –µ–ª–∫–∏ –≤ —à–∞–ø–æ—á–∫–µ —ç–ª—å—Ñ–∞" />
      <div class="caption" id="capNewYear">–Æ–∫–∫–∏ –≤ —à–∞–ø–æ—á–∫–µ —ç–ª—å—Ñ–∞ —É —ë–ª–∫–∏</div>
    </div>
    <div class="photo-item">
      <img src="paw.jpg" alt="–Æ–∫–∫–∏–Ω–∞ –ª–∞–ø–∫–∞" />
      <div class="caption" id="capPaw">–Æ–∫–∫–∏–Ω–∞ –ª–∞–ø–∫–∞</div>
    </div>
    <div class="photo-item">
      <img src="sitting.jpg" alt="–Æ–∫–∫–∏ –º–∏–ª–æ —Å–∏–¥–∏—Ç" />
      <div class="caption" id="capSitting">–Æ–∫–∫–∏ –æ—á–µ–Ω—å –º–∏–ª–æ —Å–∏–¥–∏—Ç</div>
    </div>
    <div class="photo-item">
      <img src="winter_dog.jfif" alt="–Æ–∫–∫–∏ –Ω–∞ —Å–Ω–µ–≥—É —Å—Ç–æ–∏—Ç –Ω–∞ –¥–≤—É—Ö –ª–∞–ø–∞—Ö" />
      <div class="caption" id="capWinter">–°—Ç–æ–∏—Ç –Ω–∞ –¥–≤—É—Ö –ø–µ—Ä–µ–¥–Ω–∏—Ö –ª–∞–ø–∞—Ö –Ω–∞ —Å–Ω–µ–≥—É</div>
    </div>
    <div class="photo-item">
      <img src="with_candy_(special).jfif" alt="–Æ–∫–∫–∏ —Å –∫–æ–Ω—Ñ–µ—Ç–æ–π –≤ –∑—É–±–∞—Ö" />
      <div class="caption" id="capCandy">–° –∫–æ–Ω—Ñ–µ—Ç–æ–π –≤ –∑—É–±–∞—Ö (—É–º–µ–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Ñ–∞–Ω—Ç–∏–∫–∏!)</div>
    </div>
    <div class="photo-item">
      <img src="with_glasses.jfif" alt="–Æ–∫–∫–∏ –≤ –æ—á–∫–∞—Ö" />
      <div class="caption" id="capGlasses">–í –æ—á–∫–∞—Ö, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –ö–∏–µ–≤ üíñ</div>
    </div>
    <div class="photo-item">
      <img src="with_hat.jfif" alt="–Æ–∫–∫–∏ –≤ –æ—Ä–∏–≥–∞–º–∏ —à–∞–ø–∫–µ" />
      <div class="caption" id="capHat">–û—Ä–∏–≥–∞–º–∏ —à–∞–ø–∫–∞</div>
    </div>
    <div class="photo-item">
      <img src="with_toy.jfif" alt="–Æ–∫–∫–∏ —Å –ª—é–±–∏–º–æ–π –∏–≥—Ä—É—à–∫–æ–π" />
      <div class="caption" id="capToy">Best friends forever ü§ç</div>
    </div>
  </div>

  <div id="factsBox" title="–§–∞–∫—Ç—ã –æ –Æ–∫–∫–∏">–ù–∞—Ä–æ–¥–∏–ª–∞—Å—å 1 –±–µ—Ä–µ–∑–Ω—è 2021 —Ä–æ–∫—É.</div>

  <div id="controls">
    <button id="barkBtn" title="–ì–∞–≤-–≥–∞–≤!">–ì–∞–≤-–≥–∞–≤!</button>
    <button id="meowBtn" title="–ú—è—É –æ—Ç –Æ–∫–∫–∏">–ú—è—É –æ—Ç –Æ–∫–∫–∏</button>

    <select id="languageSelector" title="–í—ã–±–µ—Ä–∏ —è–∑—ã–∫">
      <option value="ru" selected>–†—É—Å—Å–∫–∏–π</option>
      <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
      <option value="en">English</option>
    </select>

    <select id="themeSelector" title="–í—ã–±–µ—Ä–∏ —Ç–µ–º—É">
      <option value="day" selected>–î–µ–Ω—å</option>
      <option value="night">–ù–æ—á—å</option>
      <option value="pink">–†–æ–∑–æ–≤–∞—è</option>
    </select>

    <button id="musicToggle" title="–í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É">üîä</button>
  </div>

  <button id="toTopBtn" title="–ù–∞–≤–µ—Ä—Ö">ü†ï</button>

  <!-- –†–∏—Å–æ–≤–∞–ª–∫–∞ -->
  <div id="drawingContainer">
    <div id="drawingTitle">–†–∏—Å–æ–≤–∞–ª–∫–∞ –Æ–∫–∫–∏</div>
    <div id="poseHint"><span>–ü–æ–ø—Ä–æ–±—É–π –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å:</span> <span id="poseText">–¥–∞—ë—Ç –ª–∞–ø—É</span></div>
    <canvas id="canvas" width="600" height="400" aria-label="–†–∏—Å–æ–≤–∞–ª–∫–∞ –Æ–∫–∫–∏"></canvas>
    <div id="drawControls">
      <input type="color" id="colorPicker" title="–í—ã–±–µ—Ä–∏ —Ü–≤–µ—Ç –∫–∏—Å—Ç–∏" value="#ff69b4" />
      <input type="range" id="brushSizeInput" min="1" max="20" value="5" title="–¢–æ–ª—â–∏–Ω–∞ –∫–∏—Å—Ç–∏" />
      <button id="undoBtn" title="–û—Ç–º–µ–Ω–∏—Ç—å ‚Üê">‚Üê</button>
      <button id="redoBtn" title="–í–µ—Ä–Ω—É—Ç—å ‚Üí">‚Üí</button>
      <button id="clearBtn" title="–û—á–∏—Å—Ç–∏—Ç—å —Ö–æ–ª—Å—Ç">–û—á–∏—Å—Ç–∏—Ç—å</button>
      <button id="nextPoseBtn" title="–°–ª–µ–¥—É—é—â–∞—è –ø–æ–∑–∞">–°–ª–µ–¥—É—é—â–∞—è –ø–æ–∑–∞</button>
    </div>
  </div>
</div>

<!-- –ê—É–¥–∏–æ -->
<audio id="barkSound1" src="1.m4a" preload="auto"></audio>
<audio id="barkSound2" src="2.m4a" preload="auto"></audio>
<audio id="meowSound" src="3.m4a" preload="auto"></audio>
<audio id="bgMusic" src="Cat_life_KotikMurKotikUA.mp3" loop preload="auto"></audio>

<script>
(() => {
  // –¢–µ–∫—Å—Ç—ã –Ω–∞ 3 —è–∑—ã–∫–∞—Ö
  const texts = {
    ru: {
      greeting: "–ü—Ä–∏–≤–µ—Ç! –Ø –Æ–∫–∫–∏ ‚Äî —Å–∞–º–∞—è –º–∏–ª–∞—è —á–∏—Ö—É–∞—Ö—É–∞! üíñ",
      captions: {
        capNewYear: "–Æ–∫–∫–∏ –≤ —à–∞–ø–æ—á–∫–µ —ç–ª—å—Ñ–∞ —É —ë–ª–∫–∏",
        capPaw: "–Æ–∫–∫–∏–Ω–∞ –ª–∞–ø–∫–∞",
        capSitting: "–Æ–∫–∫–∏ –æ—á–µ–Ω—å –º–∏–ª–æ —Å–∏–¥–∏—Ç",
        capWinter: "–°—Ç–æ–∏—Ç –Ω–∞ –¥–≤—É—Ö –ø–µ—Ä–µ–¥–Ω–∏—Ö –ª–∞–ø–∞—Ö –Ω–∞ —Å–Ω–µ–≥—É",
        capCandy: "–° –∫–æ–Ω—Ñ–µ—Ç–æ–π –≤ –∑—É–±–∞—Ö (—É–º–µ–µ—Ç –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —Ñ–∞–Ω—Ç–∏–∫–∏!)",
        capGlasses: "–í –æ—á–∫–∞—Ö, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –ö–∏–µ–≤ üíñ",
        capHat: "–û—Ä–∏–≥–∞–º–∏ —à–∞–ø–∫–∞",
        capToy: "Best friends forever ü§ç"
      },
      facts: [
        "–ù–∞—Ä–æ–¥–∏–ª–∞—Å—å 1 –±–µ—Ä–µ–∑–Ω—è 2021 —Ä–æ–∫—É.",
        "–£ –Ω–µ—ó –∫–∞—Ä—ñ –æ—á—ñ.",
        "–ü—É—Ö–Ω–∞—Å—Ç–∏–π —Ö–≤—ñ—Å—Ç —ñ–∑ –±—ñ–ª–æ—é –∫–∏—Ç–∏—á–∫–æ—é –Ω–∞ –∫—ñ–Ω—Ü—ñ.",
        "–ó–Ω–∞—î –∫–æ–º–∞–Ω–¥–∏: —Å–∏–¥—ñ—Ç–∏, –ª–µ–∂–∞—Ç–∏, –¥–∞—Ç–∏ –ø'—è—Ç—å, –Ω–∞ –¥–æ–±—Ä–∞–Ω—ñ—á, –≤ –∑–∞—Å–∞–¥—ñ, –∞—Ç–∞–∫—É–π, –¥–∞–π –ª–∞–ø—É, —Å–ª—É–∂–∏—Ç–∏.",
        "–õ—é–±–∏—Ç—å –≥—É–ª—è—Ç–∏ –≤ –∫–æ–º–±—ñ–Ω–µ–∑–æ–Ω—ñ.",
        "–£–º—ñ—î –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ —Ñ–∞–Ω—Ç–∏–∫–∏ —Ü—É–∫–µ—Ä–æ–∫, –¥–µ —Ö–æ–≤–∞—é—Ç—å —Å–º–∞–∫–æ–ª–∏–∫–∏.",
        "–î—É–∂–µ —Ä–æ–∑—É–º–Ω–∞ —ñ —à–≤–∏–¥–∫–æ –Ω–∞–≤—á–∞—î—Ç—å—Å—è.",
        "–û–±–æ–∂–Ω—é—î –≥—Ä–∞—Ç–∏—Å—è –∑ —É–ª—é–±–ª–µ–Ω–æ—é —ñ–≥—Ä–∞—à–∫–æ—é ‚Äî —ó–∂–∞—á–∫–æ–º.",
        "–Ü–Ω–æ–¥—ñ —Å–æ—Ä–æ–º‚Äô—è–∑–ª–∏–≤–∞, –∞–ª–µ –¥—É–∂–µ –¥–æ–±—Ä–∞ —ñ –ª–∞–≥—ñ–¥–Ω–∞."
      ],
      buttons: {
        bark: "–ì–∞–≤-–≥–∞–≤!",
        meow: "–ú—è—É –æ—Ç –Æ–∫–∫–∏",
        day: "–î–µ–Ω—å",
        night: "–ù–æ—á—å",
        pink: "–†–æ–∑–æ–≤–∞—è"
      },
      drawTexts: {
        title: "–†–∏—Å–æ–≤–∞–ª–∫–∞ –Æ–∫–∫–∏",
        tryDraw: "–ü–æ–ø—Ä–æ–±—É–π –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å:",
        clear: "–û—á–∏—Å—Ç–∏—Ç—å",
        next: "–°–ª–µ–¥—É—é—â–∞—è –ø–æ–∑–∞",
        undo: "‚Üê",
        redo: "‚Üí",
        poses: ["–¥–∞—ë—Ç –ª–∞–ø—É", "—Å–∏–¥–∏—Ç", "–ª–µ–∂–∏—Ç", "–≤ –∑–∞—Å–∞–¥–µ", "–∞—Ç–∞–∫—É–π"]
      }
    },
    uk: {
      greeting: "–ü—Ä–∏–≤—ñ—Ç! –Ø –Æ–∫–∫—ñ ‚Äî –Ω–∞–π–º–∏–ª—ñ—à–∞ —á–∏—Ö—É–∞—Ö—É–∞! üíñ",
      captions: {
        capNewYear: "–Æ–∫–∫—ñ —É —à–∞–ø–æ—á—Ü—ñ –µ–ª—å—Ñ–∞ –±—ñ–ª—è —è–ª–∏–Ω–∫–∏",
        capPaw: "–Æ–∫–∫—ñ–Ω–∞ –ª–∞–ø–∫–∞",
        capSitting: "–Æ–∫–∫—ñ –¥—É–∂–µ –º–∏–ª–æ —Å–∏–¥–∏—Ç—å",
        capWinter: "–°—Ç–æ—ó—Ç—å –Ω–∞ –¥–≤–æ—Ö –ø–µ—Ä–µ–¥–Ω—ñ—Ö –ª–∞–ø–∞—Ö –Ω–∞ —Å–Ω—ñ–≥—É",
        capCandy: "–ó —Ü—É–∫–µ—Ä–∫–æ—é –≤ –∑—É–±–∞—Ö (–≤–º—ñ—î –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ —Ñ–∞–Ω—Ç–∏–∫–∏!)",
        capGlasses: "–í –æ–∫—É–ª—è—Ä–∞—Ö, —É —è–∫–∏—Ö –≤—ñ–¥–±–∏–≤–∞—î—Ç—å—Å—è –ö–∏—ó–≤ üíñ",
        capHat: "–®–∞–ø–∫–∞ –æ—Ä–∏–≥–∞–º—ñ",
        capToy: "–ù–∞–π–∫—Ä–∞—â—ñ –¥—Ä—É–∑—ñ –Ω–∞–∑–∞–≤–∂–¥–∏ ü§ç"
      },
      facts: [
        "–ù–∞—Ä–æ–¥–∏–ª–∞—Å—å 1 –±–µ—Ä–µ–∑–Ω—è 2021 —Ä–æ–∫—É.",
        "–£ –Ω–µ—ó –∫–∞—Ä—ñ –æ—á—ñ.",
        "–ü—É—Ö–Ω–∞—Å—Ç–∏–π —Ö–≤—ñ—Å—Ç —ñ–∑ –±—ñ–ª–æ—é –∫–∏—Ç–∏—á–∫–æ—é –Ω–∞ –∫—ñ–Ω—Ü—ñ.",
        "–ó–Ω–∞—î –∫–æ–º–∞–Ω–¥–∏: —Å–∏–¥—ñ—Ç–∏, –ª–µ–∂–∞—Ç–∏, –¥–∞—Ç–∏ –ø'—è—Ç—å, –Ω–∞ –¥–æ–±—Ä–∞–Ω—ñ—á, –≤ –∑–∞—Å–∞–¥—ñ, –∞—Ç–∞–∫—É–π, –¥–∞–π –ª–∞–ø—É, —Å–ª—É–∂–∏—Ç–∏.",
        "–õ—é–±–∏—Ç—å –≥—É–ª—è—Ç–∏ –≤ –∫–æ–º–±—ñ–Ω–µ–∑–æ–Ω—ñ.",
        "–í–º—ñ—î –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏ —Ñ–∞–Ω—Ç–∏–∫–∏ —Ü—É–∫–µ—Ä–æ–∫, –¥–µ —Ö–æ–≤–∞—é—Ç—å —Å–º–∞–∫–æ–ª–∏–∫–∏.",
        "–î—É–∂–µ —Ä–æ–∑—É–º–Ω–∞ —ñ —à–≤–∏–¥–∫–æ –Ω–∞–≤—á–∞—î—Ç—å—Å—è.",
        "–û–±–æ–∂–Ω—é—î –≥—Ä–∞—Ç–∏—Å—è –∑ —É–ª—é–±–ª–µ–Ω–æ—é —ñ–≥—Ä–∞—à–∫–æ—é ‚Äî —ó–∂–∞—á–∫–æ–º.",
        "–Ü–Ω–æ–¥—ñ —Å–æ—Ä–æ–º‚Äô—è–∑–ª–∏–≤–∞, –∞–ª–µ –¥—É–∂–µ –¥–æ–±—Ä–∞ —ñ –ª–∞–≥—ñ–¥–Ω–∞."
      ],
      buttons: {
        bark: "–ì–∞–≤-–≥–∞–≤!",
        meow: "–ú—è—É –≤—ñ–¥ –Æ–∫–∫—ñ",
        day: "–î–µ–Ω—å",
        night: "–ù—ñ—á",
        pink: "–†–æ–∂–µ–≤–∞"
      },
      drawTexts: {
        title: "–†–æ–∑–º–∞–ª—å–æ–≤–∫–∞ –Æ–∫–∫—ñ",
        tryDraw: "–°–ø—Ä–æ–±—É–π –Ω–∞–º–∞–ª—é–≤–∞—Ç–∏:",
        clear: "–û—á–∏—Å—Ç–∏—Ç–∏",
        next: "–ù–∞—Å—Ç—É–ø–Ω–∞ –ø–æ–∑–∞",
        undo: "‚Üê",
        redo: "‚Üí",
        poses: ["–¥–∞—î –ª–∞–ø—É", "—Å–∏–¥–∏—Ç—å", "–ª–µ–∂–∏—Ç—å", "–≤ –∑–∞—Å–∞–¥—ñ", "–∞—Ç–∞–∫—É–π"]
      }
    },
    en: {
      greeting: "Hi! I'm Yukki ‚Äî the cutest Chihuahua! üíñ",
      captions: {
        capNewYear: "Yukki in an elf hat near the Christmas tree",
        capPaw: "Yukki's paw",
        capSitting: "Yukki sitting very cutely",
        capWinter: "Standing on two front paws on snow",
        capCandy: "With candy in her teeth (can unwrap wrappers!)",
        capGlasses: "Wearing glasses reflecting Kyiv üíñ",
        capHat: "Origami hat",
        capToy: "Best friends forever ü§ç"
      },
      facts: [
        "Born on March 1, 2021.",
        "She has brown eyes.",
        "Fluffy tail with a white tip.",
        "Knows commands: sit, lie down, give five, good night, in ambush, attack, give paw, serve.",
        "Loves walking in her jumpsuit.",
        "Can unwrap candy wrappers where treats are hidden.",
        "Very smart and learns quickly.",
        "Loves playing with her favorite toy ‚Äî a hedgehog.",
        "Sometimes shy, but very kind and gentle."
      ],
      buttons: {
        bark: "Bark bark!",
        meow: "Meow from Yukki",
        day: "Day",
        night: "Night",
        pink: "Pink"
      },
      drawTexts: {
        title: "Yukki Drawing",
        tryDraw: "Try to draw:",
        clear: "Clear",
        next: "Next pose",
        undo: "‚Üê",
        redo: "‚Üí",
        poses: ["give paw", "sitting", "lying", "in ambush", "attack"]
      }
    }
  };

  // –≠–ª–µ–º–µ–Ω—Ç—ã
  const factsBox = document.getElementById("factsBox");
  const barkBtn = document.getElementById("barkBtn");
  const meowBtn = document.getElementById("meowBtn");
  const musicToggle = document.getElementById("musicToggle");
  const languageSelector = document.getElementById("languageSelector");
  const themeSelector = document.getElementById("themeSelector");
  const toTopBtn = document.getElementById("toTopBtn");
  const yukkiAvatar = document.getElementById("yukkiAvatar");

  // –ó–≤—É–∫–∏
  const barkSound1 = document.getElementById("barkSound1");
  const barkSound2 = document.getElementById("barkSound2");
  const meowSound = document.getElementById("meowSound");
  const bgMusic = document.getElementById("bgMusic");

  // –†–∏—Å–æ–≤–∞–ª–∫–∞ —ç–ª–µ–º–µ–Ω—Ç—ã
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");
  const colorPicker = document.getElementById("colorPicker");
  const brushSizeInput = document.getElementById("brushSizeInput");
  const undoBtn = document.getElementById("undoBtn");
  const redoBtn = document.getElementById("redoBtn");
  const clearBtn = document.getElementById("clearBtn");
  const poseText = document.getElementById("poseText");
  const nextPoseBtn = document.getElementById("nextPoseBtn");

  // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
  let barkToggle = true;
  let currentLanguage = "ru";
  let factsIndex = 0;
  let currentFacts = texts[currentLanguage].facts;

  // –†–∏—Å–æ–≤–∞–ª–∫–∞ Undo/Redo
  let drawing = false;
  let currentStroke = [];
  let strokes = [];
  let undoneStrokes = [];

  // –ü–æ–∑–∞ –¥–ª—è —Ä–∏—Å–æ–≤–∞–ª–∫–∏
  let poseIndex = 0;

  // –¶–≤–µ—Ç–∞, –≤–∫–ª—é—á–∞—è –∫–æ—Ä–∏—á–Ω–µ–≤—ã–π –¥–ª—è –≥–ª–∞–∑ –Æ–∫–∫–∏
  // –î–æ–±–∞–≤–∏–º –∫–Ω–æ–ø–∫—É –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ —Å –∫–æ—Ä–∏—á–Ω–µ–≤—ã–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  const defaultColors = {
    ru: "#ff69b4",
    uk: "#ff69b4",
    en: "#ff69b4"
  };

  // –§—É–Ω–∫—Ü–∏—è —Å–º–µ–Ω—ã —è–∑—ã–∫–∞
  function changeLanguage(lang) {
    currentLanguage = lang;
    document.getElementById("greeting").textContent = texts[lang].greeting;

    for (const id in texts[lang].captions) {
      const el = document.getElementById(id);
      if (el) el.textContent = texts[lang].captions[id];
    }

    barkBtn.textContent = texts[lang].buttons.bark;
    meowBtn.textContent = texts[lang].buttons.meow;

    themeSelector.options[0].text = texts[lang].buttons.day;
    themeSelector.options[1].text = texts[lang].buttons.night;
    themeSelector.options[2].text = texts[lang].buttons.pink;

    factsIndex = 0;
    currentFacts = texts[lang].facts;
    factsBox.textContent = currentFacts[factsIndex];

    // –†–∏—Å–æ–≤–∞–ª–∫–∞ - —Ç–µ–∫—Å—Ç –∏ —Ü–≤–µ—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    poseIndex = 0;
    poseText.textContent = texts[lang].drawTexts.poses[poseIndex];
    nextPoseBtn.textContent = texts[lang].drawTexts.next;
    clearBtn.textContent = texts[lang].drawTexts.clear;
    undoBtn.textContent = texts[lang].drawTexts.undo;
    redoBtn.textContent = texts[lang].drawTexts.redo;
    document.getElementById("drawingTitle").textContent = texts[lang].drawTexts.title;

    // –¶–≤–µ—Ç –∫–∏—Å—Ç–∏ ‚Äî –∫–æ—Ä–∏—á–Ω–µ–≤—ã–π –¥–ª—è –∫–∞—Ä–∏—Ö –≥–ª–∞–∑ –Æ–∫–∫–∏ (–ø—Ä–∏–º–µ—Ä #5D3A1A)
    colorPicker.value = "#5D3A1A";
  }

  // –°–º–µ–Ω–∞ —Ç–µ–º—ã
  function changeTheme(theme) {
    if(theme === "night") {
      document.body.style.background = "#1e1e2f";
      document.body.style.color = "#dcdcdc";
    } else if(theme === "pink") {
      document.body.style.background = "#ffe4e1";
      document.body.style.color = "#333";
    } else {
      document.body.style.background = "#f5f5f5";
      document.body.style.color = "#333";
    }
  }

  // –¶–∏–∫–ª —Ñ–∞–∫—Ç–æ–≤ —Å –ø–ª–∞–≤–Ω—ã–º –ø–µ—Ä–µ—Ö–æ–¥–æ–º
  setInterval(() => {
    factsIndex = (factsIndex + 1) % currentFacts.length;
    factsBox.style.opacity = 0;
    setTimeout(() => {
      factsBox.textContent = currentFacts[factsIndex];
      factsBox.style.opacity = 1;
    }, 500);
  }, 10000);

  // –ó–≤—É–∫–∏ –≥–∞–≤–∫–∞–Ω—å—è –ø–æ –æ—á–µ—Ä–µ–¥–∏
  barkBtn.addEventListener("click", () => {
    if (barkToggle) {
      barkSound1.currentTime = 0;
      barkSound1.play();
    } else {
      barkSound2.currentTime = 0;
      barkSound2.play();
    }
    barkToggle = !barkToggle;
  });

  meowBtn.addEventListener("click", () => {
    meowSound.currentTime = 0;
    meowSound.play();
  });

  musicToggle.addEventListener("click", () => {
    if (bgMusic.paused) {
      bgMusic.play();
      musicToggle.textContent = "üîä";
    } else {
      bgMusic.pause();
      musicToggle.textContent = "üîà";
    }
  });

  languageSelector.addEventListener("change", (e) => {
    changeLanguage(e.target.value);
  });

  themeSelector.addEventListener("change", (e) => {
    changeTheme(e.target.value);
  });

  window.addEventListener("scroll", () => {
    if(window.scrollY > 150) {
      toTopBtn.classList.add("show");
    } else {
      toTopBtn.classList.remove("show");
    }
  });

  toTopBtn.addEventListener("click", () => {
    window.scrollTo({top: 0, behavior: "smooth"});
  });

  yukkiAvatar.addEventListener("click", () => {
    alert(texts[currentLanguage].buttons.bark + " üíñ");
  });

  // –†–∏—Å–æ–≤–∞–ª–∫–∞ - —Ñ—É–Ω–∫—Ü–∏–∏

  function startDrawing(e) {
    drawing = true;
    currentStroke = [];
    const pos = getMousePos(e);
    currentStroke.push(pos);
    drawPoint(pos.x, pos.y);
  }

  function drawPoint(x, y) {
    ctx.lineTo(x, y);
    ctx.stroke();
  }

  function drawLine(from, to) {
    ctx.beginPath();
    ctx.moveTo(from.x, from.y);
    ctx.lineTo(to.x, to.y);
    ctx.stroke();
    ctx.closePath();
  }

  function drawStroke(stroke) {
    if(stroke.length < 2) return;
    ctx.beginPath();
    ctx.moveTo(stroke[0].x, stroke[0].y);
    for(let i=1; i<stroke.length; i++) {
      ctx.lineTo(stroke[i].x, stroke[i].y);
    }
    ctx.stroke();
  }

  function getMousePos(e) {
    const rect = canvas.getBoundingClientRect();
    let x, y;
    if (e.touches) {
      x = e.touches[0].clientX - rect.left;
      y = e.touches[0].clientY - rect.top;
    } else {
      x = e.clientX - rect.left;
      y = e.clientY - rect.top;
    }
    return {x, y};
  }

  function stopDrawing(e) {
    if (!drawing) return;
    drawing = false;
    if(currentStroke.length > 0) {
      strokes.push({
        points: currentStroke,
        color: ctx.strokeStyle,
        size: ctx.lineWidth
      });
      undoneStrokes = [];
      updateUndoRedoButtons();
    }
  }

  function redraw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    for(const stroke of strokes) {
      ctx.strokeStyle = stroke.color;
      ctx.lineWidth = stroke.size;
      drawStroke(stroke.points);
    }
  }

  function undo() {
    if(strokes.length === 0) return;
    undoneStrokes.push(strokes.pop());
    redraw();
    updateUndoRedoButtons();
  }

  function redo() {
    if(undoneStrokes.length === 0) return;
    strokes.push(undoneStrokes.pop());
    redraw();
    updateUndoRedoButtons();
  }

  function clearCanvas() {
    strokes = [];
    undoneStrokes = [];
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    updateUndoRedoButtons();
  }

  function updateUndoRedoButtons() {
    undoBtn.disabled = strokes.length === 0;
    redoBtn.disabled = undoneStrokes.length === 0;
  }

  function nextPose() {
    poseIndex = (poseIndex + 1) % texts[currentLanguage].drawTexts.poses.length;
    poseText.textContent = texts[currentLanguage].drawTexts.poses[poseIndex];
  }

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –∏ —Ä–∞–∑–º–µ—Ä–∞ –∫–∏—Å—Ç–∏
  function updateBrushSettings() {
    ctx.strokeStyle = colorPicker.value;
    ctx.lineWidth = brushSizeInput.value;
    ctx.lineCap = 'round';
    ctx.lineJoin = 'round';
  }

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∏—Å–æ–≤–∞–ª–∫–∏
  function initDrawing() {
    updateBrushSettings();
    updateUndoRedoButtons();

    canvas.addEventListener("mousedown", startDrawing);
    canvas.addEventListener("mousemove", (e) => {
      if (!drawing) return;
      const pos = getMousePos(e);
      currentStroke.push(pos);
      ctx.lineTo(pos.x, pos.y);
      ctx.stroke();
    });
    canvas.addEventListener("mouseup", stopDrawing);
    canvas.addEventListener("mouseout", stopDrawing);

    // –î–ª—è —Ç–∞—á—Å–∫—Ä–∏–Ω–æ–≤
    canvas.addEventListener("touchstart", (e) => {
      e.preventDefault();
      startDrawing(e);
    }, {passive: false});
    canvas.addEventListener("touchmove", (e) => {
      e.preventDefault();
      if (!drawing) return;
      const pos = getMousePos(e);
      currentStroke.push(pos);
      ctx.lineTo(pos.x, pos.y);
      ctx.stroke();
    }, {passive: false});
    canvas.addEventListener("touchend", (e) => {
      e.preventDefault();
      stopDrawing(e);
    }, {passive: false});

    colorPicker.addEventListener("change", () => {
      ctx.strokeStyle = colorPicker.value;
    });
    brushSizeInput.addEventListener("input", () => {
      ctx.lineWidth = brushSizeInput.value;
    });
    undoBtn.addEventListener("click", undo);
    redoBtn.addEventListener("click", redo);
    clearBtn.addEventListener("click", () => {
      if(confirm(texts[currentLanguage].drawTexts.clear + "?")) {
        clearCanvas();
      }
    });
    nextPoseBtn.addEventListener("click", nextPose);
  }

  // –°—Ç–∞—Ä—Ç
  changeLanguage(currentLanguage);
  changeTheme(themeSelector.value);
  musicToggle.textContent = "üîä";

  initDrawing();
})();
</script>

</body>
</html>
